<div class="itineraries-container">
  <div class="header">
    <h1>My Itineraries</h1>
    <button class="btn-primary" (click)="showAddForm = !showAddForm">
      {{ showAddForm ? 'Cancel' : 'Add New Itinerary' }}
    </button>
  </div>

  <!-- Add New Itinerary Form -->
  <div class="add-form" *ngIf="showAddForm">
    <h3>Create New Itinerary</h3>
    <form (ngSubmit)="addItinerary()">
      <div class="form-group">
        <label for="name">Itinerary Name:</label>
        <input 
          type="text" 
          id="name" 
          [(ngModel)]="newItinerary.name" 
          name="name" 
          placeholder="e.g., Summer Trip to Italy"
          required>
      </div>
      
      <div class="form-group">
        <label for="location">Location:</label>
        <input 
          type="text" 
          id="location" 
          [(ngModel)]="newItinerary.location" 
          name="location" 
          placeholder="e.g., Rome, Italy"
          required>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="startDate">Start Date:</label>
          <input 
            type="date" 
            id="startDate" 
            [(ngModel)]="newItinerary.startDate" 
            name="startDate"
            required>
        </div>
        
        <div class="form-group">
          <label for="endDate">End Date:</label>
          <input 
            type="date" 
            id="endDate" 
            [(ngModel)]="newItinerary.endDate" 
            name="endDate"
            required>
        </div>
      </div>
      
      <div class="form-group">
        <label for="notes">Notes (Optional):</label>
        <textarea 
          id="notes" 
          [(ngModel)]="newItinerary.notes" 
          name="notes" 
          placeholder="Any special notes about this trip..."
          rows="3"></textarea>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn-primary">Create Itinerary</button>
        <button type="button" class="btn-secondary" (click)="showAddForm = false">Cancel</button>
      </div>
    </form>
  </div>

  <!-- Edit Itinerary Form -->
  <div class="edit-form" *ngIf="showEditForm && editingItinerary">
    <h3>Edit Itinerary</h3>
    <form (ngSubmit)="saveEdit()">
      <div class="form-group">
        <label for="editName">Itinerary Name:</label>
        <input 
          type="text" 
          id="editName" 
          [(ngModel)]="editingItinerary.name" 
          name="editName" 
          placeholder="e.g., Summer Trip to Italy"
          required>
      </div>
      
      <div class="form-group">
        <label for="editLocation">Location:</label>
        <input 
          type="text" 
          id="editLocation" 
          [(ngModel)]="editingItinerary.location" 
          name="editLocation" 
          placeholder="e.g., Rome, Italy"
          required>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="editStartDate">Start Date:</label>
          <input 
            type="date" 
            id="editStartDate" 
            [(ngModel)]="editingItinerary.startDate" 
            name="editStartDate"
            required>
        </div>
        
        <div class="form-group">
          <label for="editEndDate">End Date:</label>
          <input 
            type="date" 
            id="editEndDate" 
            [(ngModel)]="editingItinerary.endDate" 
            name="editEndDate"
            required>
        </div>
      </div>
      
      <div class="form-group">
        <label for="editNotes">Notes (Optional):</label>
        <textarea 
          id="editNotes" 
          [(ngModel)]="editingItinerary.notes" 
          name="editNotes" 
          placeholder="Any special notes about this trip..."
          rows="3"></textarea>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn-primary">Save Changes</button>
        <button type="button" class="btn-secondary" (click)="cancelEdit()">Cancel</button>
      </div>
    </form>
  </div>

  <!-- Itineraries List -->
  <div class="itineraries-list" *ngIf="itineraries.length > 0; else noItineraries">
    <div class="itinerary-card" *ngFor="let itinerary of itineraries">
      <div class="itinerary-header">
        <h3>{{ itinerary.name }}</h3>
        <div class="itinerary-actions">
          <button class="btn-icon" (click)="updateItinerary(itinerary)" title="Edit">
            ‚úèÔ∏è
          </button>
          <button class="btn-icon btn-danger" (click)="deleteItinerary(itinerary.id)" title="Delete">
            üóëÔ∏è
          </button>
        </div>
      </div>
      
      <div class="itinerary-details">
        <p><strong>Location:</strong> {{ itinerary.location }}</p>
        <p><strong>Duration:</strong> {{ itinerary.startDate }} to {{ itinerary.endDate }}</p>
        <p *ngIf="itinerary.notes"><strong>Notes:</strong> {{ itinerary.notes }}</p>
      </div>
      
      <div class="itinerary-footer">
        <button class="btn-primary" (click)="openItinerary(itinerary)">
          View Activities
        </button>
      </div>
    </div>
  </div>

  <!-- No Itineraries Message -->
  <ng-template #noItineraries>
    <div class="empty-state">
      <h3>No itineraries yet</h3>
      <p>Create your first itinerary to start planning your vacation!</p>
      <button class="btn-primary" (click)="showAddForm = true">
        Create Your First Itinerary
      </button>
    </div>
  </ng-template>
</div>
